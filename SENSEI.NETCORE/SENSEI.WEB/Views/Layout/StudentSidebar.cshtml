@model List<SENSEI.WEB.Models.SidebarItem>
@{
	Layout = null;
    var currentUrl = Context.Request.Path.ToString().ToLower();
}

<style>
    .student-badge-premium {
        font-size: 0.55rem;
        padding: 3px 8px;
        background: var(--sensei-red);
        color: white;
        border-radius: 99px;
        margin-left: 6px;
        text-transform: uppercase;
        font-weight: 800;
        letter-spacing: 0.1em;
        vertical-align: middle;
        box-shadow: 0 4px 10px rgba(216, 50, 54, 0.2);
    }
    .sidebar-cta-premium {
        background: rgba(34, 46, 60, 0.05);
        border: 1px solid rgba(216, 50, 54, 0.1);
        border-radius: 12px;
        margin: 20px;
        padding: 20px;
    }
    .sidebar-item.active .sidebar-link {
        border-left: 3px solid var(--sensei-red);
        background: linear-gradient(90deg, rgba(216, 50, 54, 0.05), transparent) !important;
    }
</style>

<nav id="sidebar" class="sidebar js-sidebar">
	<div class="sidebar-content js-simplebar">
		<a class="sidebar-brand d-flex align-items-center gap-2" href="@Url.Action("Index", "Home", new { area = "StudentPortal" })">
			<img src="~/theme/v1/img/photos/logo.PNG" alt="Logo" style="width: 38px; height: 38px; object-fit: contain;" />
			<div class="d-flex flex-column">
				<span class="align-middle" style="font-family: 'Noto Serif JP', serif; font-weight: 900; color: var(--sensei-red); letter-spacing: -0.02em; font-size: 1.2rem; line-height: 1;">
                    SENSEI <span class="student-badge-premium">STUDENT</span>
                </span>
				<span class="align-middle" style="font-weight: 700; color: #555; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.2em; line-height: 1; margin-top: 3px;">Academy</span>
			</div>
		</a>

		<ul class="sidebar-nav">
			<li class="sidebar-header" style="font-weight: 800; color: var(--sensei-red); opacity: 0.7; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.1em;">
				Main Menu
			</li>

			@foreach(var item in Model)
			{
                bool isActive = currentUrl.Contains(item.Url.ToLower());
				<li class="sidebar-item @(isActive ? "active" : "")">
					<a class="sidebar-link" href="@item.Url">
						<i class="align-middle" data-feather="@item.Icon" style="@(isActive ? "color: var(--sensei-red)" : "")"></i> 
                        <span class="align-middle fw-600">@item.Title</span>
					</a>
				</li>
			}
		</ul>

        <div class="sidebar-cta-premium">
            <div class="sidebar-cta-content">
                <strong class="d-inline-block mb-2 fw-800" style="color: var(--sensei-red);">Study Hard!</strong>
                <div class="mb-3 text-muted small fw-600">
                    Success in Japanese comes with consistent practice. Ganbatte!
                </div>
                <div class="d-grid">
                    <a href="/StudentPortal/MyLearning/Index" class="btn btn-primary rounded-pill fw-700">Go to Lessons</a>
                </div>
            </div>
        </div>
	</div>
</nav>
