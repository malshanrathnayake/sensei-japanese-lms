@using SENSEI.DOMAIN
@model IEnumerable<UserNotification>

@{
	Layout = null;
}

<li class="nav-item dropdown">
	<a class="nav-icon dropdown-toggle" href="#" id="alertsDropdown" data-bs-toggle="dropdown">
		<div class="position-relative">
			<i class="align-middle" data-feather="bell"></i>
			<span class="indicator">@Model.Count()</span>
		</div>
	</a>
	<div class="dropdown-menu dropdown-menu-lg dropdown-menu-end py-0" aria-labelledby="alertsDropdown">
		<div class="dropdown-menu-header">

			@if (@Model.Count() > 0)
			{
				@Model.Count() <span>New Notifications</span>
			}
			else
			{
				<span>No Notifications</span>
			}
			
		</div>
		<div class="list-group" id="userNotificationlist">

			@{
				@if (@Model.Count() > 0)
				{
					foreach(var userNotification in Model)
					{
						<a href="#" class="list-group-item">
							<div class="row g-0 align-items-center">
								<div class="col-2">
									<i class="text-warning" data-feather="@userNotification.Icon"></i>
								</div>
								<div class="col-10">
									<div class="text-dark">@userNotification.NotificationType</div>
									<div class="text-muted small mt-1">@userNotification.Message</div>
									<div class="text-muted small mt-1">@userNotification.CreatedAt.ToString("dd/MM/yyyy HH:mm")</div>
								</div>
							</div>
						</a>
					}
				}
			}

			
			@* <a href="#" class="list-group-item">
				<div class="row g-0 align-items-center">
					<div class="col-2">
						<i class="text-warning" data-feather="bell"></i>
					</div>
					<div class="col-10">
						<div class="text-dark">Lorem ipsum</div>
						<div class="text-muted small mt-1">Aliquam ex eros, imperdiet vulputate hendrerit et.</div>
						<div class="text-muted small mt-1">2h ago</div>
					</div>
				</div>
			</a>
			<a href="#" class="list-group-item">
				<div class="row g-0 align-items-center">
					<div class="col-2">
						<i class="text-primary" data-feather="home"></i>
					</div>
					<div class="col-10">
						<div class="text-dark">Login from 192.186.1.8</div>
						<div class="text-muted small mt-1">5h ago</div>
					</div>
				</div>
			</a>
			<a href="#" class="list-group-item">
				<div class="row g-0 align-items-center">
					<div class="col-2">
						<i class="text-success" data-feather="user-plus"></i>
					</div>
					<div class="col-10">
						<div class="text-dark">New connection</div>
						<div class="text-muted small mt-1">Christina accepted your request.</div>
						<div class="text-muted small mt-1">14h ago</div>
					</div>
				</div>
			</a> *@

		</div>

		<div class="dropdown-menu-footer">
			<a href="#" class="text-muted">Click on notification to remove</a>
		</div>

	</div>
</li>
