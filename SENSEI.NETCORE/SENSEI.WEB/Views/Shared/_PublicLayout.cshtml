@{
    var userId = Context.Session.GetString("UserId");
    var userType = Context.Session.GetString("UserType");
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>@ViewData["Title"] | Sensei Japanese Center</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Basic SEO -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Sensei Japanese Center offers professional Japanese language courses, JLPT preparation, and cultural training programs in Sri Lanka. Start your journey to Japan with us." />
    <meta name="keywords" content="Japanese language course Sri Lanka, JLPT classes, Japanese classes Colombo, Learn Japanese, Sensei Japanese Center" />
    <meta name="author" content="Sensei Japanese Center" />
    <meta name="robots" content="index, follow" />

    <!-- Canonical URL -->
    <link rel="canonical" href="@Context.Request.Scheme://@Context.Request.Host@Context.Request.Path" />

    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="@ViewData["Title"] | Sensei Japanese Center" />
    <meta property="og:description" content="Join Sensei Japanese Center for structured Japanese language courses and JLPT preparation in Sri Lanka." />
    <meta property="og:url" content="@Context.Request.Scheme://@Context.Request.Host@Context.Request.Path" />
    <meta property="og:image" content="https://www.senseijapanesecenter.com/theme/v1/img/photos/logo.PNG" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="@ViewData["Title"] | Sensei Japanese Center" />
    <meta name="twitter:description" content="Professional Japanese language courses and JLPT training in Sri Lanka." />
    <meta name="twitter:image" content="https://www.senseijapanesecenter.com/theme/v1/img/photos/logo.PNG" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="~/theme/v1/img/photos/logo.PNG" />

    <!-- Theme Color (Mobile Browser UI) -->
    <meta name="theme-color" content="#ff5a5f" />

    <!-- CSS -->
    <link rel="stylesheet" href="~/css/public-web.css" asp-append-version="true" />

    <!-- Structured Data (Organization Schema) -->
    <script type="application/ld+json">
        {
            "@@context": "https://schema.org",
            "@@type": "EducationalOrganization",
            "name": "Sensei Japanese Center",
            "url": "https://www.senseijapanesecenter.com",
            "logo": "https://www.senseijapanesecenter.com/theme/v1/img/photos/logo.PNG",
            "description": "Japanese language institute offering JLPT preparation and structured courses in Sri Lanka.",
            "address": {
                "@@type": "PostalAddress",
                "addressCountry": "Sri Lanka"
            }
        }
    </script>

    <link rel="stylesheet" href="~/css/public-web.css" />


</head>
<body>
    <!-- HEADER / NAV -->
    <header>
        <div class="nav">
            <div class="brand">
                <a href="~/" class="brand-link">
                    <img src="~/theme/v1/img/photos/logo.PNG" alt="Sensei Japanese Center" class="brand-logo" />
                </a>
                <div class="brand-text">
                    <span>Sensei Japanese Center</span>
                </div>
            </div>
            <nav class="nav-links">
                <a href="~/#courses">Courses</a>
                <a href="~/#about">About</a>
                <a href="~/#contact">Contact</a>
                <a href="~/SenseiJapaneseSchool/Gallery">Gallery</a>
                
                @if (!string.IsNullOrEmpty(userId))
                {
                    if (userType == "Admin")
                    {
                        <button class="btn-login" onclick="location.href='@Url.Action("Index", "Home", new { Area = "Adminportal" })'">Go to Admin Portal</button>
                    }
                    else if (userType == "Student")
                    {
                        <button class="btn-login" onclick="location.href='@Url.Action("Index", "Home", new { Area = "Studentportal" })'">Go to Student Portal</button>
                    }
                }
                else
                {
                    <button id="loginbtn" class="btn-login" href="~/SenseiJapaneseSchool/Login">Login</button>
                }

            </nav>
        </div>
    </header>

    <main>

        @RenderBody()

        <!-- TEMPLE STRIP + FOOTER -->
    </main>

    <!-- PROFESSIONAL FOOTER -->
    <footer class="site-footer">
        <div class="footer-content">
            <!-- Brand Hidden as requested -->
            <div class="footer-brand" style="display:none;"></div>
            
            <div class="footer-links">
                <div class="link-group">
                    <h4>Learn</h4>
                    <a href="#courses">All Courses</a>
                    <a href="#about">Our Method</a>
                    <a href="#">Pricing</a>
                    <a href="#">Success Stories</a>
                </div>
                
                <div class="link-group">
                    <h4>Company</h4>
                    <a href="#about">About Us</a>
                    <a href="#">Careers</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <div class="social-icons">
                        <a href="#" class="social-link fb" aria-label="Facebook">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                        </a>
                        <a href="#" class="social-link tk" aria-label="TikTok">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"></path></svg>
                        </a>
                        <a href="#" class="social-link ig" aria-label="Instagram">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                        </a>
                        <a href="#" class="social-link yt" aria-label="YouTube">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.33 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
                        </a>
                        <a href="https://wa.me/94773833011" class="social-link wa" aria-label="WhatsApp" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                        </a>
                    </div>
                </div>
                
                <div class="link-group" style="flex: 2; min-width: 300px;"> <!-- Expand column for address details -->
                    <h4>Our Centers</h4>
                    <div style="display: flex; gap: 3rem; flex-wrap: wrap;">
                        <div class="footer-address">
                            <strong>Matara</strong><br>
                            Sensei Japanese Center,<br>
                            No: 13/1, Richard Building,<br>
                            Medagoda, Matara.<br>
                            <span style="display:block; margin-top:0.3rem;">📞 076 765 6635 / 077 383 3011</span>
                        </div>
                        <div class="footer-address">
                            <strong>Galle</strong><br>
                            Sensei Japanese Center,<br>
                            No: 12/2, Colombo Road,<br>
                            Kaluwella, Galle.<br>
                            <span style="display:block; margin-top:0.3rem;">📞 072 723 3188</span>
                        </div>
                    </div>
                    <div style="margin-top: 1.5rem;">
                        <a href="mailto:hello@senseijapanese.com" style="color:var(--primary); font-weight:700;">✉ hello@senseijapanese.com</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; <span id="year">2026</span> Sensei Japanese Center. All rights reserved.</p>
        </div>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    <script>
        // update year without needing external scripts
        document.getElementById("year").textContent = new Date().getFullYear().toString();
        
        $("#loginbtn").click(function() {
            window.location.href = "/SenseiJapaneseSchool/Login";
        });

    </script>
    <!-- Animation Scripts -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Animate Hero Image - Gentle Float
            const heroImg = document.querySelector('.hero-img');
            if (heroImg) {
                heroImg.style.animation = "float 6s ease-in-out infinite"; 
            }

            // Scroll Reveal Setup
            // Select elements we want to animate on scroll
            const revealElements = document.querySelectorAll('section h2, .feature-card, .course-card, .about-highlight, .about-stat, .about-right, .hero-left > *');
            
            const observerOptions = {
                threshold: 0.15, // Trigger when 15% visible
                rootMargin: "0px 0px -50px 0px"
            };

            const revealOnScroll = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('reveal-active');
                        observer.unobserve(entry.target); // Stop observing once revealed
                    }
                });
            }, observerOptions);

            revealElements.forEach((el, index) => {
                el.classList.add('reveal-fade-up');
                revealOnScroll.observe(el);
            });

            // Stagger animations for grids (Features, Courses) for premium feel
            const grids = document.querySelectorAll('.features, .course-grid, .about-grid');
            grids.forEach(grid => {
                const children = Array.from(grid.children);
                children.forEach((child, i) => {
                    // Maximum stagger delay of 0.3s
                    let delay = (i % 4) * 0.1; 
                    child.style.transitionDelay = `${delay}s`;
                });
            });
        });
    </script>
    
    @await RenderSectionAsync("Scripts", required: false)

</body>
</html>