@{
    var userId = Context.Session.GetString("UserId");
    var userType = Context.Session.GetString("UserType");
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>@ViewData["Title"] | Sensei Japanese Center</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Basic SEO -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Sensei Japanese Center offers professional Japanese language courses, JLPT preparation, and cultural training programs in Sri Lanka. Start your journey to Japan with us." />
    <meta name="keywords" content="Japanese language course Sri Lanka, JLPT classes, Japanese classes Colombo, Learn Japanese, Sensei Japanese Center" />
    <meta name="author" content="Sensei Japanese Center" />
    <meta name="robots" content="index, follow" />

    <!-- Canonical URL -->
    <link rel="canonical" href="@Context.Request.Scheme://@Context.Request.Host@Context.Request.Path" />

    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="@ViewData["Title"] | Sensei Japanese Center" />
    <meta property="og:description" content="Join Sensei Japanese Center for structured Japanese language courses and JLPT preparation in Sri Lanka." />
    <meta property="og:url" content="@Context.Request.Scheme://@Context.Request.Host@Context.Request.Path" />
    <meta property="og:image" content="https://www.senseijapanesecenter.com/theme/v1/img/photos/logo.PNG" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="@ViewData["Title"] | Sensei Japanese Center" />
    <meta name="twitter:description" content="Professional Japanese language courses and JLPT training in Sri Lanka." />
    <meta name="twitter:image" content="https://www.senseijapanesecenter.com/theme/v1/img/photos/logo.PNG" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="~/theme/v1/img/photos/logo.PNG" />

    <!-- Theme Color (Mobile Browser UI) -->
    <meta name="theme-color" content="#D83236" />

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="~/css/public-web.css" asp-append-version="true" />

    <!-- Structured Data (Organization Schema) -->
    <script type="application/ld+json">
        {
            "@@context": "https://schema.org",
            "@@type": "EducationalOrganization",
            "name": "Sensei Japanese Center",
            "url": "https://www.senseijapanesecenter.com",
            "logo": "https://www.senseijapanesecenter.com/theme/v1/img/photos/logo.PNG",
            "description": "Japanese language institute offering JLPT preparation and structured courses in Sri Lanka.",
            "address": {
                "@@type": "PostalAddress",
                "addressCountry": "Sri Lanka"
            }
        }
    </script>

    <link rel="stylesheet" href="~/css/public-web.css" />


</head>
<body>
    <div class="sakura-container"></div>

    <!-- HEADER / NAV -->
    <header>
        <div class="nav">
            <div class="brand">
                <a asp-action="Index" asp-controller="SenseiJapaneseSchool" asp-area="" class="brand-link">
                    <img src="~/theme/v1/img/photos/logo.PNG" alt="Sensei Japanese Center" class="brand-logo" />
                </a>
                <div class="brand-text">
                    <img src="~/theme/v1/img/photos/name1.png" alt="Sensei Japanese Center" class="brand-name-img" />
                    <img src="~/theme/v1/img/photos/name.png" alt="Name" class="brand-name-img" />
                </div>
            </div>

            <!-- Mobile Toggle -->
            <button class="menu-toggle" aria-label="Toggle Menu" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>

            <nav class="nav-links" id="navLinks">
                <a href="@Url.Action("Index", "SenseiJapaneseSchool")#courses">Courses</a>
                <a href="@Url.Action("Index", "SenseiJapaneseSchool")#about">About</a>
                <a href="@Url.Action("Index", "SenseiJapaneseSchool")#contact">Contact</a>
                <a asp-action="Gallery" asp-controller="SenseiJapaneseSchool" asp-area="">Gallery</a>
                
                @if (!string.IsNullOrEmpty(userId))
                {
                    if (userType == "Admin")
                    {
                        <button class="btn-login" onclick="location.href='@Url.Action("Index", "Home", new { Area = "Adminportal" })'">Admin Portal</button>
                    }
                    else if (userType == "Student")
                    {
                        <button class="btn-login" onclick="location.href='@Url.Action("Index", "Home", new { Area = "Studentportal" })'">Student Portal</button>
                    }
                }
                else
                {
                    <a asp-action="Login" asp-controller="SenseiJapaneseSchool" asp-area="" class="btn-login">Login</a>
                }
            </nav>
        </div>
    </header>

    <main>

        @RenderBody()

        <!-- TEMPLE STRIP + FOOTER -->
    </main>

    <!-- PROFESSIONAL FOOTER -->
    <footer class="site-footer">
        <div class="footer-wave"></div>
        <div class="footer-content">
            <div class="footer-brand-col">
                <div class="footer-logo-wrap">
                    <img src="~/theme/v1/img/photos/logo.PNG" alt="Sensei Logo" class="footer-logo" />
                    <div class="footer-brand-images">
                        <img src="~/theme/v1/img/photos/name1.png" alt="Sensei Japanese Center" class="footer-brand-img" />
                        <img src="~/theme/v1/img/photos/name.png" alt="Name" class="footer-brand-img" />
                    </div>
                </div>
                <p class="footer-tagline">
                    Bridging cultures through language excellence. Start your Japanese journey with 10k+ successful students.
                </p>
                <div class="social-icons">
                    <a href="https://www.facebook.com/Sensei-japanese-center-Matara-100189525137202/" class="social-link fb" aria-label="Facebook" target="_blank">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.instagram.com/senseijapanesecenter/" class="social-link ig" aria-label="Instagram" target="_blank">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@@senseijapanesecenter" class="social-link tk" aria-label="TikTok" target="_blank">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://www.youtube.com/@@senseijapanesecenter" class="social-link yt" aria-label="YouTube" target="_blank">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="https://wa.me/94773833011" class="social-link wa" aria-label="WhatsApp" target="_blank">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
            </div>
            
            <div class="footer-links-grid">
                <div class="link-group">
                    <h4>Quick Links</h4>
                    <a href="#top">Hero Section</a>
                    <a href="#courses">Courses</a>
                    <a href="#about">About Us</a>
                    <a href="/SenseiJapaneseSchool/Gallery">Gallery</a>
                </div>
                
                <div class="link-group">
                    <h4>Support</h4>
                    <a href="/SenseiJapaneseSchool/Login">Student Login</a>
                    <a href="/SenseiJapaneseSchool/Register">Online Registration</a>
                    <a href="#contact">Contact Support</a>
                    <a href="mailto:hello@senseijapanese.com">hello@senseijapanese.com</a>
                </div>
                
                <div class="link-group centers-group">
                    <h4>Our Centers</h4>
                    <div class="center-item">
                        <div class="center-icon"><i class="fas fa-map-marker-alt"></i></div>
                        <div class="center-details">
                            <strong>Matara Center</strong>
                            <p>No: 13/1, Medagoda, Matara.</p>
                            <span class="center-phone">076 765 6635 / 077 383 3011</span>
                        </div>
                    </div>
                    <div class="center-item">
                        <div class="center-icon"><i class="fas fa-map-marker-alt"></i></div>
                        <div class="center-details">
                            <strong>Galle Center</strong>
                            <p>No: 12/2, Kaluwella, Galle.</p>
                            <span class="center-phone">072 723 3188</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p>&copy; <span id="year">2026</span> Sensei Japanese Center. All rights reserved.</p>
                <div class="footer-legal">
                    <a href="#">Privacy Policy</a>
                    <span class="dot"></span>
                    <a href="#">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    <script>
        // Update year
        document.getElementById("year").textContent = new Date().getFullYear().toString();
        
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                const icon = mobileMenuBtn.querySelector('i');
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            });
        }

        // Close menu on link click (mobile)
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                const icon = mobileMenuBtn.querySelector('i');
                if (icon) {
                    icon.classList.add('fa-bars');
                    icon.classList.remove('fa-times');
                }
            });
        });

        // Dynamic Header on Scroll
        const header = document.querySelector('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
    </script>
    <!-- Animation Scripts -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Animate Hero Image - Gentle Float
            const heroImg = document.querySelector('.hero-img');
            if (heroImg) {
                heroImg.style.animation = "float 6s ease-in-out infinite"; 
            }

            // Scroll Reveal Setup
            // Select elements we want to animate on scroll
            const revealElements = document.querySelectorAll('section h2, .feature-card, .course-card, .about-highlight, .about-stat, .about-right, .hero-left > *');
            
            const observerOptions = {
                threshold: 0.15, // Trigger when 15% visible
                rootMargin: "0px 0px -50px 0px"
            };

            const revealOnScroll = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('reveal-active');
                        observer.unobserve(entry.target); // Stop observing once revealed
                    }
                });
            }, observerOptions);

            revealElements.forEach((el, index) => {
                el.classList.add('reveal-fade-up');
                revealOnScroll.observe(el);
            });

            // Stagger animations for grids (Features, Courses) for premium feel
            const grids = document.querySelectorAll('.features, .course-grid, .about-grid');
            grids.forEach(grid => {
                const children = Array.from(grid.children);
                children.forEach((child, i) => {
                    // Maximum stagger delay of 0.3s
                    let delay = (i % 4) * 0.1; 
                    child.style.transitionDelay = `${delay}s`;
                });
            });
            // Sakura Falling Petals
            const sakuraContainer = document.querySelector('.sakura-container');
            if (sakuraContainer) {
                const petalCount = 12;
                for (let i = 0; i < petalCount; i++) {
                    const petal = document.createElement('div');
                    petal.classList.add('sakura-petal');
                    
                    const left = Math.random() * 100;
                    const size = Math.random() * 8 + 6;
                    const duration = Math.random() * 7 + 5;
                    const delay = Math.random() * 10;
                    
                    petal.style.left = `${left}%`;
                    petal.style.width = `${size}px`;
                    petal.style.height = `${size * 0.8}px`; // Slightly elliptical
                    petal.style.animationDuration = `${duration}s`;
                    petal.style.animationDelay = `${delay}s`;
                    
                    // Random horizontal drift
                    const drift = (Math.random() - 0.5) * 100; // -50 to 50px
                    petal.style.setProperty('--drift', `${drift}px`);
                    
                    sakuraContainer.appendChild(petal);
                }
            }
        });
    </script>
    
    @await RenderSectionAsync("Scripts", required: false)

</body>
</html>